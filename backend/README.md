# Yulo Vault Automation Backend

This backend service automates the compounding of Yulo vaults and tracks their performance.

## Features

- Automated vault compounding at configurable intervals
- Integration with Pyth price oracles for accurate APR calculations
- Historical performance tracking in Supabase
- Error handling and logging

## Setup

1. Install dependencies:
```bash
npm install
```

2. Create a `.env` file based on `.env.example`:
```bash
cp .env.example .env
```

3. Configure your environment variables in `.env`:
- Add your Sui wallet private key
- Configure Supabase credentials
- Add Pyth price feed IDs
- Set vault addresses and compounding interval

4. Set up Supabase tables:
```sql
-- Vault performance table
create table vault_performance (
  id bigint generated by default as identity primary key,
  vault_address text not null,
  timestamp timestamptz not null,
  before_state jsonb,
  after_state jsonb,
  transaction jsonb,
  prices jsonb
);

-- Price data table
create table price_data (
  id bigint generated by default as identity primary key,
  feed_id text not null,
  timestamp timestamptz not null,
  price numeric,
  confidence numeric
);
```

## Usage

Start the service:
```bash
npm start
```

For development with auto-reload:
```bash
npm run dev
```

## Monitoring

The service logs:
- Vault compounding attempts and results
- Price feed updates
- Database operations
- Errors and exceptions

## Security

- Keep your `.env` file secure and never commit it to version control
- Use a dedicated wallet for automation with limited permissions
- Monitor the service regularly for any issues 